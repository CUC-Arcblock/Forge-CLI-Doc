(this["webpackJsonp@arcblock/forge-web"]=this["webpackJsonp@arcblock/forge-web"]||[]).push([[8],{209:function(e,t,n){"use strict";var a=n(124),r=n.n(a),o=n(372),c=n.n(o),i=n(373),s=n.n(i),l=n(374),u=n.n(l);r.a.extend(c.a),r.a.extend(s.a),r.a.extend(u.a);t.a=(e,t)=>{let n=!1;return"string"===typeof e&&(n=/Z$/.test(e),e=function(e){const t=/Z$/.test(e),n=e.split(/[^0-9]/).map(e=>parseInt(e,10));if(t){const e=Date.UTC(n[0],n[1]-1||0,n[2]||1,n[3]||0,n[4]||0,n[5]||0,n[6]||0);return new Date(e)}return new Date(n[0],n[1]-1||0,n[2]||1,n[3]||0,n[4]||0,n[5]||0,n[6]||0)}(e)),n?r.a.utc(e,t):r()(e,t)}},258:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return x}));var a=n(31),r=n.n(a),o=n(53),c=n(12),i=n(0),s=n.n(i),l=n(144),u=n.n(l),d=n(145),p=n.n(d),m=n(95),f=n(72),b=n(40);const h=s.a.createContext(),g=h.Provider,w=h.Consumer;function v({children:e}){const t=p()(localStorage,"chain-node"),n=Object(i.useState)(!0),a=Object(c.a)(n,2),l=a[0],d=a[1],h=t("simulator.running",!1),w=Object(c.a)(h,2),v=w[0],x=w[1],O=t("simulator.startedAt",(new Date).toString()),E=Object(c.a)(O,2),k=E[0],j=E[1],y=t("simulator.txCount",0),S=Object(c.a)(y,2),C=S[0],I=S[1],_=Object(i.useState)([]),T=Object(c.a)(_,2),N=T[0],P=T[1],A=!Object(b.n)()&&!Object(b.q)();Object(i.useEffect)(()=>{(function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(m.a)().getSimulatorStatus();case 5:"OK"===(t=e.sent).code&&(n=new RegExp(/running with/,"i").test(t.result),x(n),n?k||(j((new Date).toString()),I(0)):(j(""),I(0))),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:d(!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()},[]),u()(Object(o.a)(r.a.mark((function e(){var t,n,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=20,e.next=6,Object(m.a)().listTransactions({paging:{size:t}},{ignoreFields:f.d});case 6:n=e.sent,a=n.transactions,o=a.length<t?[...a,...N].slice(0,t):a,P(o.map(e=>({hash:e.hash,time:e.time}))),a.length&&I(C+a.length),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])}))),v?3e3:null);const D=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!A){e.next=3;break}return e.abrupt("return");case 3:return d(!0),e.next=6,Object(m.a)().startSimulator();case 6:"OK"===e.sent.code&&(x(!0),j((new Date).toString()),I(0)),d(!1),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!A){e.next=3;break}return e.abrupt("return");case 3:return d(!0),e.next=6,Object(m.a)().stopSimulator();case 6:"OK"===e.sent.code&&(x(!1),j(""),I(0),P([])),d(!1),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),F={simulatorLoading:l,simulatorRunning:v,simulatorTxCount:C,simulatorTxList:N,simulatorUptime:k?Date.now()-Date.parse(k):0,startSimulator:D,stopSimulator:R};return s.a.createElement(g,{value:F},e)}function x(e){return function(t){return s.a.createElement(w,null,n=>s.a.createElement(e,Object.assign({},t,n)))}}},361:function(e,t,n){"use strict";var a=n(95),r=n(51);t.a={isValidator:e=>!!JSON.parse(r.a.getItem("validators")||[]).find(t=>t.address===e),setValidators(){Object(a.a)().getValidatorsInfo().then(({code:e,validatorsInfo:{validators:t}})=>{if("OK"!==e)throw new Error(e);r.a.setItem("validators",JSON.stringify(t||[]))}).catch(e=>console.error("set validators failed:",e))}}},363:function(e,t,n){"use strict";var a=n(65),r=n(12),o=n(252),c=n(0),i=n.n(c),s=n(125),l=n.n(s),u=n(120),d=n.n(u),p=n(42),m=n(773),f=n(94),b=n(31),h=n.n(b),g=n(53),w=n(119),v=n.n(w),x=n(775),O=n(755),E=n(759),k=n(257),j=n.n(k),y=n(751),S=n(765),C=n(754),I=n(756),_=n(764),T=n(380),N=n.n(T),P=n(757),A=n(758),D=n(106),R=n(760),F=n(761),z=n(762),B=n(774),q=n(763),J=n(749),K=n(205),H=n(379),L=n.n(H),U=n(244),M=n.n(U),V=n(716),W=n(60),$=n(40),Y=n(82);function Z(){const e=Object(a.a)(["\n  .MuiDialogActions-root {\n    padding: 16px 24px;\n  }\n"]);return Z=function(){return e},e}const G=Object(J.a)(e=>({addNetwork:{display:"flex",justifyContent:"flex-start",alignItems:"center",paddingTop:"8px",paddingBottom:"8px"},avatar:{width:e.spacing(4),height:e.spacing(4),marginRight:e.spacing(1),backgroundColor:e.palette.primary.dark},closeDialogButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},network:{display:"flex",justifyContent:"flex-start",alignItems:"center"},dialogTitle:{display:"flex",justifyContent:"space-between",alignItems:"center","& h2":{display:"flex",alignItems:"center","& i":{marginRight:e.spacing(1)}}},dialogContent:{overflow:"hidden"},dialogPaper:{minHeight:"50vh",maxHeight:"50vh"},confirmWrapper:{position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},responsive:{["@media (max-width: ".concat(e.breakpoints.values.md,"px)")]:{display:"none"}},tabPanel:{position:"relative",overflow:"auto",minHeight:"35vh",maxHeight:"35vh"}})),Q=[{label:"Public",value:"public"},{label:"Customized",value:"customized"}];function X({open:e,onClose:t,onEntered:n,onConfirm:a,theme:o,requireForge:s}){const u=Object(Y.c)(),p=s?"Network":"Endpoint",m=u.reduce((e,t)=>(e[t.group]?e[t.group].push(t):e[t.group]=[t],e),{}),f=Object(W.f)(),b=f.current,w=f.setCurrent,k=G(),T=Object(c.useState)(""),J=Object(r.a)(T,2),H=J[0],U=J[1],Z=Object(c.useState)(""),X=Object(r.a)(Z,2),te=X[0],ne=X[1],ae=Object(c.useState)(!1),re=Object(r.a)(ae,2),oe=re[0],ce=re[1],ie=Object(c.useState)(Object(Y.b)(b).group),se=Object(r.a)(ie,2),le=se[0],ue=se[1],de=Object(c.useState)(!1),pe=Object(r.a)(de,2),me=pe[0],fe=pe[1],be=Object(c.useState)(""),he=Object(r.a)(be,2),ge=he[0],we=he[1],ve=function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,a,r,o,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(K.isUri)(te)){e.next=3;break}return U("Invalid chain host or graphql endpoint"),e.abrupt("return");case 3:if(!s){e.next=23;break}return e.prev=4,t=new v.a(te),e.next=8,t.getNodeInfo();case 8:if(n=e.sent,a=n.code,r=n.info,"OK"===a){e.next=13;break}throw new Error("Invalid forge chain endpoint",a);case 13:Object(Y.a)({name:r.moniker,group:"customized",endpoint:te}),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(4),o=e.t0.message,Object(K.isHttpUri)(te)&&Object($.p)()&&(o="".concat(o," (Accessing HTTP from HTTPS may be blocked by your browser)")),U(o);case 21:e.next=40;break;case 23:return e.prev=23,e.next=26,M.a.post(te,{query:V.b});case 26:if(c=e.sent,!c.data.data.__schema){e.next=32;break}Object(Y.a)({name:te.split("/").filter(Boolean).filter(e=>!1===["https:","http:"].includes(e)).shift(),group:"customized",endpoint:te}),e.next=33;break;case 32:throw new Error("Invalid graphql endpoint");case 33:e.next=40;break;case 35:e.prev=35,e.t1=e.catch(23),o=e.t1.message,Object(K.isHttpUri)(te)&&Object($.p)()&&(o="".concat(o," (Accessing HTTP from HTTPS may be blocked by your browser)")),U(o);case 40:case"end":return e.stop()}}),e,null,[[4,16],[23,35]])})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),U(""),e.next=4,ve();case 4:ce(!1),ne("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(ee,null,i.a.createElement(y.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,disablePortal:!1,fullWidth:!0,classes:{paper:k.dialogPaper},open:e,onEntered:n,onClose:t},i.a.createElement(C.a,{disableTypography:!0,classes:{root:k.dialogTitle}},i.a.createElement(D.a,{component:"h2",variant:"h6"},i.a.createElement(l.a,{className:"fad fa-chart-network",color:o.colors.black}),i.a.createElement("span",null,"Switch ",i.a.createElement("span",{className:k.responsive},p))),i.a.createElement(O.a,{"aria-label":"close",className:k.closeDialogButton,onClick:t},i.a.createElement(j.a,null))),i.a.createElement(I.a,{className:k.dialogContent},i.a.createElement(L.a,{tabs:Q,current:le,onChange:ue}),"customized"===le&&i.a.createElement("div",{className:k.addNetwork},i.a.createElement(P.a,{fullWidth:!0,error:!!H},i.a.createElement(B.a,{onChange:e=>ne(e.target.value.trim()),placeholder:"Input your chain host",inputProps:{"aria-label":"Input your chain host"},"aria-describedby":"add-error-text",value:te}),!!H&&i.a.createElement(A.a,{id:"add-error-text"},H)),i.a.createElement("div",{className:k.confirmWrapper},i.a.createElement(d.a,{rounded:!0,onClick:xe,disabled:oe,variant:"contained"},oe?"Loading":"Add"),oe&&i.a.createElement(E.a,{size:24,className:k.buttonProgress}))),i.a.createElement(R.a,{className:k.tabPanel},(e=>{let t=m[e]||[];return"development"===e&&m.local&&(t=t.concat(m.local)),t})(le).map(e=>i.a.createElement(F.a,{button:!0,key:e.name,selected:b===e.name,onClick:()=>(e=>{w(e),a()})(e.name)},i.a.createElement(z.a,null,i.a.createElement(x.a,{className:k.avatar,style:{backgroundColor:Object($.u)(e.endpoint)}},(e.name[0]||"").toUpperCase())),i.a.createElement(q.a,null,e.name,i.a.createElement("span",{className:k.responsive},"(",e.description,")")),"customized"===le&&i.a.createElement(O.a,{onClick:t=>((e,t)=>{e.stopPropagation(),we(t),fe(!0)})(t,e.name),"aria-label":"delete",className:k.margin},i.a.createElement(N.a,null))))),i.a.createElement(y.a,{open:me,onClose:()=>fe(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.a.createElement(C.a,{id:"alert-dialog-title"},"Remove ",p,"?"),i.a.createElement(I.a,null,i.a.createElement(_.a,{id:"alert-dialog-description"},"Confirm Remove ",i.a.createElement("b",null,ge)," ",p,"?")),i.a.createElement(S.a,null,i.a.createElement(d.a,{onClick:()=>fe(!1)},"Cancel"),i.a.createElement(d.a,{onClick:()=>{try{Object(Y.d)(ge),ge===b&&w(u[0].name),fe(!1)}catch(e){console.error(e)}},autoFocus:!0},"OK"))))))}Object($.q)()||Q.splice(1,0,{label:"Development",value:"development"}),X.defaultProps={open:!1,requireForge:!0,onClose:()=>{},onConfirm:()=>{},onEntered:()=>{}};const ee=p.default.div(Z());var te=Object(m.a)(X);function ne(){const e=Object(a.a)(["\n  .responsive {\n    @media (max-width: ","px) {\n      display: none;\n    }\n  }\n"]);return ne=function(){return e},e}function ae(e){let t=e.onClose,n=e.onEntered,a=e.theme,s=e.requireForge,u=Object(o.a)(e,["onClose","onEntered","theme","requireForge"]);const p=Object(f.k)(),m=Object(c.useState)(!1),b=Object(r.a)(m,2),h=b[0],g=b[1],w=Object(W.f)().current;return i.a.createElement(re,u,i.a.createElement(d.a,{rounded:!0,variant:"contained",onClick:()=>g(!0),startIcon:i.a.createElement(l.a,{className:"fad fa-chart-network",color:a.colors.white}),style:{padding:"6px 16px"}},i.a.createElement("span",null,w)),i.a.createElement(te,{open:h,onClose:()=>{g(!1),t()},onConfirm:()=>{p.go("/")},onEntered:n,requireForge:s}))}ae.defaultProps={onClose:()=>{},onEntered:()=>{},requireForge:!0};const re=p.default.div(ne(),e=>e.theme.breakpoints.values.md);t.a=Object(m.a)(ae)},40:function(e,t,n){"use strict";var a=n(31),r=n.n(a),o=n(53),c=n(12),i=(n(264),n(259),n(250)),s=n.n(i),l=(n(376),n(212)),u=n.n(l),d=n(129),p=n.n(d),m=n(143),f=n.n(m),b=n(254),h=n.n(b),g=n(377),w=n.n(g),v=n(255),x=n(119),O=n.n(x),E=n(209),k=n(198),j=n.n(k);j()({title:"Arcblock | Blockchain 3.0",back:"Back",dashboard:{overview:"Overview",metrics:"Summary",transactions:"Transactions",topAccounts:"Top Accounts",topValidators:"Top Validators"}}),j()({title:"Arcblock | Blockchain 3.0",back:"\u8fd4\u56de",dashboard:{overview:"\u6458\u8981",metrics:"\u5173\u952e\u6307\u6807",transactions:"\u4ea4\u6613\u8d8b\u52bf",topAccounts:"\u5bcc\u8c6a\u699c",topValidators:"\u8282\u70b9\u5217\u8868"}});var y=n(72),S=n(51),C=n(82);n.d(t,"n",(function(){return I})),n.d(t,"q",(function(){return _})),n.d(t,"r",(function(){return T})),n.d(t,"m",(function(){return N})),n.d(t,"t",(function(){return P})),n.d(t,"k",(function(){return A})),n.d(t,"f",(function(){return D})),n.d(t,"w",(function(){return R})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return z})),n.d(t,"j",(function(){return B})),n.d(t,"a",(function(){return K})),n.d(t,"g",(function(){return L})),n.d(t,"s",(function(){return U})),n.d(t,"l",(function(){return M})),n.d(t,"b",(function(){return V})),n.d(t,"e",(function(){return W})),n.d(t,"o",(function(){return $})),n.d(t,"u",(function(){return Y})),n.d(t,"v",(function(){return Z})),n.d(t,"h",(function(){return G})),n.d(t,"i",(function(){return Q})),n.d(t,"p",(function(){return X}));const I=()=>"chain-node".includes("playground")||"chain-node".includes("explorer"),_=()=>"chain-node".includes("universal");function T(e){return e.replace(/^\?/,"").split("&").map(e=>e.split("=")).reduce((e,t)=>{const n=Object(c.a)(t,2),a=n[0],r=n[1],o=void 0===r||r;return e[a]=o,e},{})}function N(e){return p()(u()(e.type||e.tx.itxJson._type||"")).replace(/Tx$/,"")}function P(e="",t=""){const n=Object(C.c)().map(({name:e})=>e);let a;try{const r=T(e||window.location.search),o=S.a.getItem("switcher.current")?JSON.parse(S.a.getItem("switcher.current")):void 0,i=(t||window.location.pathname).split("/").filter(Boolean);if(r.network&&n.includes(r.network))a=r.network;else if(o&&n.includes(o))a=o;else if(i.length&&n.includes(i[0])){a=Object(c.a)(i,1)[0]}else{a=Object(c.a)(n,1)[0]}S.a.setItem("switcher.current",JSON.stringify(a))}catch(r){console.warn("select network failed",r)}return a}function A(){const e=P();return Object(C.b)(e).endpoint}function D(e,t=!0){const n=e.split(":").pop();return t?p()(u()(n)).replace(/Tx$/,""):n}function R(e){const t=e.trim().replace(/Tx$/,"").replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return"fg:t:".concat(t)}function F(e,t=0){let n=e;n||(n="0");const a=function(e,t){if(0===t)return e;const n=new RegExp("^-?\\d+(?:\\.\\d{0,".concat(t,"})?"),"g"),a=e.toString().match(n)[0],r=a.indexOf(".");if(-1===r)return"".concat(a,".").concat("0".repeat(t));const o=t-(a.length-r)+1;return o>0?a+"0".repeat(o):a}(n.toString(),t),r=w()(a);return r.valueOf()<1e-7?a.slice(0,10):r.format({thousandSeparated:!0,mantissa:t}).slice(0,15)}function z(e,t=6){const n=S.a.getItem("token")?JSON.parse(S.a.getItem("token")):{decimal:18};return F(Object(v.fromUnitToToken)(e,n.decimal),t)}function B(e){return 0===e.indexOf("#")?e:"/explorer".concat(e)}const q={},J=()=>{const e=A();return q[e]||(q[e]=new O.a(e)),q[e]};function K(e,t){return H.apply(this,arguments)}function H(){return(H=Object(o.a)(r.a.mark((function e(t,n){var a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=3;break;case 3:if(!s()(t)){e.next=8;break}return e.next=6,J().doRawQuery("{\n        getForgeState {\n          code\n          state {\n            token {\n              decimal\n              description\n              icon\n              inflationRate\n              initialSupply\n              name\n              symbol\n              totalSupply\n              unit\n            }\n          }\n        }\n      }");case 6:a=e.sent,t=a.getForgeState.state.token;case 8:if(!s()(n)){e.next=14;break}return e.next=11,J().getNodeInfo();case 11:o=e.sent,c=o.info,n=c;case 14:return e.abrupt("return",{token:t,node:n});case 17:throw e.prev=17,e.t0=e.catch(0),new Error(Array.isArray(e.t0.errors)?e.t0.errors.map(e=>e.message).join(","):e.t0.message||e.t0.toString());case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}const L=e=>h()({transfer:"arrow-right",exchange:"exchange",poke:"dice-six",declare:"bullhorn",account_migrate:"plane",delegate:"microphone-alt",revoke_delegate:"microphone-alt-slash",create_asset:"plus",update_asset:"sync",consume_asset:"shredder",acquire_asset:"hand-holding-box",setup_swap:"random",retrieve_swap:"hand-lizard",revoke_swap:"undo",withdraw_token:"arrow-from-bottom",deposit_token:"arrow-to-bottom",approve_withdraw:"stamp",revoke_withdraw:"ban",upgrade_node:"upload",stake:"hands-usd"},e,"robot"),U=e=>{let t=e;return"?"===t[0]&&(t=t.slice(1)),t.split("&").reduce((e,t)=>{const n=t.split("="),a=Object(c.a)(n,2),r=a[0],o=a[1];return r&&o&&(e[r]=o),e},{})},M=()=>"object"===typeof Intl&&"function"===typeof Intl.DateTimeFormat&&"function"===typeof Intl.DateTimeFormat().resolvedOptions?Intl.DateTimeFormat().resolvedOptions().timeZone:"",V=(e,t="NAN",n=!1)=>{if(!e)return t;const a=Object(E.a)(e).local().format(y.b),r=M();return n&&r?"".concat(a," (").concat(r,")"):a},W=e=>{const t=Math.round(e/1e3),n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),r=t%60;return"".concat(f()(n,2,"0"),":").concat(f()(a,2,"0"),":").concat(f()(r,2,"0"))},$=(e="")=>{const t=e.toLowerCase();return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("0.0.0.0")},Y=e=>{let t=0;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);let n="#";for(let a=0;a<3;a++){n+="00".concat((t>>8*a&255).toString(16)).substr(-2)}return n},Z=e=>0===e.indexOf("0x")?e:"0x".concat(e),G=e=>"https://etherscan.io/address/".concat(Z(e),"#tokentxns"),Q=e=>"https://etherscan.io/tx/".concat(Z(e)),X=()=>{const e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")}},404:function(e,t,n){e.exports=n(691)},51:function(e,t,n){"use strict";t.a={setItem:(e,t)=>localStorage.setItem("".concat("chain-node",".").concat(e),t),getItem:(e,t)=>localStorage.getItem("".concat("chain-node",".").concat(e))||t,removeItem:e=>localStorage.removeItem("".concat("chain-node",".").concat(e)),clean:()=>localStorage.clear()}},60:function(e,t,n){"use strict";n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return x})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return k})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return y}));var a=n(31),r=n.n(a),o=n(53),c=n(12),i=n(0),s=n(208),l=n.n(s),u=n(378),d=n.n(u),p=n(145),m=n.n(p),f=n(144),b=n.n(f),h=n(40);const g=m()(localStorage,"chain-node");m()(sessionStorage,"chain-node");function w(){const e=g("theme","light"),t=Object(c.a)(e,2);return[t[0],t[1]]}function v(){const e=g("switcher.open",!1),t=Object(c.a)(e,2),n=t[0],a=t[1],r=g("switcher.current",Object(h.t)()),o=Object(c.a)(r,2);return{open:n,setOpen:a,current:o[0],setCurrent:o[1]}}function x(){return g("token",{})}function O(){return g("node",{})}function E(){return g("live_update",!1)}function k(){const e=x(),t=Object(c.a)(e,2)[1],n=O(),a=Object(c.a)(n,2)[1],r=d()(h.a);return r.value&&setTimeout(()=>{t(r.value.token),a(r.value.node)},0),r}function j(e,t=4e3){const n=l()(e),a=E(),s=Object(c.a)(a,1)[0],u=Object(i.useState)(),d=Object(c.a)(u,2),p=d[0],m=d[1];return b()(Object(o.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:n=t.sent,m(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),s?t:null),{loading:n.loading,data:p,error:n.error}}function y(e,t){const n=Object(i.useState)(e),a=Object(c.a)(n,2),r=a[0],o=a[1],s=Object(i.useState)(!1),l=Object(c.a)(s,2),u=l[0],d=l[1];return b()(()=>{r<=1?t():o(r-1)},u?null:1e3),{current:r,pause:()=>{d(!0)},start:()=>{d(!1)},setCurrent:o}}},640:function(e,t){},691:function(e,t,n){"use strict";n.r(t);n(405),n(459);var a=n(0),r=n.n(a),o=n(25),c=n.n(o),i=n(364),s=n.n(i),l=n(365),u=n.n(l),d=n(107),p=(n(209),n(65)),m=n(12),f=n(42),b=n(94),h=n(375),g=n.n(h),w=n(46),v=n.n(w),x=n(106),O=n(751),E=n(754),k=n(756),j=n(360),y=n.n(j),S=n(769),C=n(749),I=n(60),_=n(40),T=n(766),N=n(772),P=n(363);function A(){const e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return A=function(){return e},e}const D=({retry:e})=>{const t=Object(a.useState)(),n=Object(m.a)(t,2),o=n[0],c=n[1],i=Object(I.a)(10,()=>{o||(e(),d(10))}),s=i.current,l=i.pause,u=i.start,d=i.setCurrent;return r.a.createElement(R,null,r.a.createElement(P.a,{onClose:()=>{u(),c(!1)},onEntered:()=>{l(),c(!0)}}),r.a.createElement("p",null,r.a.createElement(N.a,{title:"Retry now",placement:"right"},r.a.createElement(T.a,{href:"#",onClick:t=>{t.preventDefault(),e()}},"Retry in ",s,"s"))))};D.defaultProps={retry:()=>{}};const R=f.default.div(A());var F=D,z=n(768),B=n(50),q=n(767),J=n(258);function K(){const e=Object(p.a)(["\n  body {\n    background: ",";\n    color: ",";\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n  }\n\n  a,\n  a:hover,\n  a:active {\n    text-decoration: none;\n    color: ",";\n  }\n\n  td a:hover {\n    text-decoration: underline;\n  }\n\n  .info-row__name {\n    font-size: 0.75rem;\n  }\n"]);return K=function(){return e},e}const H=Object(f.createGlobalStyle)(K(),e=>"light"===e.mode?B.colors.background:B.colors.gray,e=>"light"===e.mode?B.colors.gray:B.colors.darkText,e=>"light"===e.mode?B.colors.gray:B.colors.darkText);var L=function(e){return function(t){const n=Object(I.g)(),a=Object(m.a)(n,1)[0],o=(e=>Object(B.create)({mode:e}))(a);return r.a.createElement(J.a,null,r.a.createElement(q.a,{theme:o},r.a.createElement(f.ThemeProvider,{theme:o},r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement(H,{mode:a}),r.a.createElement(e,t)))))}};function U(){const e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return U=function(){return e},e}const M=v()(()=>Promise.all([n.e(2),n.e(30)]).then(n.bind(null,1338))),V=v()(()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,1336))),W=v()(()=>Promise.all([n.e(0),n.e(29)]).then(n.bind(null,1328))),$=v()(()=>Promise.all([n.e(0),n.e(11),n.e(28)]).then(n.bind(null,1341))),Y=v()(()=>Promise.all([n.e(0),n.e(23)]).then(n.bind(null,1329))),Z=v()(()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(6),n.e(20)]).then(n.bind(null,1033))),G=v()(()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(7),n.e(26)]).then(n.bind(null,1330))),Q=v()(()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(6),n.e(17)]).then(n.bind(null,1034))),X=v()(()=>Promise.all([n.e(0),n.e(1),n.e(4),n.e(5),n.e(12)]).then(n.bind(null,1335))),ee=v()(()=>Promise.all([n.e(0),n.e(1),n.e(5),n.e(14),n.e(16)]).then(n.bind(null,1340))),te=v()(()=>Promise.all([n.e(0),n.e(1),n.e(15),n.e(7),n.e(25)]).then(n.bind(null,1332))),ne=v()(()=>Promise.all([n.e(0),n.e(1),n.e(4),n.e(21)]).then(n.bind(null,1333))),ae=v()(()=>Promise.all([n.e(0),n.e(4),n.e(27),n.e(24)]).then(n.bind(null,1334))),re=Object(C.a)(()=>({errorDialogTitle:{display:"flex",alignItems:"center"},alertIcon:{marginRight:"8px"}})),oe=f.default.div(U());var ce=L(()=>{const e=Object(I.e)(),t=Object(I.g)(),n=Object(m.a)(t,1)[0],a=re(),o=()=>{e.retry()};if(e.loading)return r.a.createElement(M,null,r.a.createElement(oe,{mode:n},r.a.createElement(g.a,{messages:["Fetch chain info...","Fetching forge state..."],interval:800})));if(e.error){let t=e.error.message;const c=(e=>e.includes("Network Error")||e.includes("status code 500"))(t);return c&&(t="Cannot connect to the endpoint, you can click on the button below to switch or modify your network."),r.a.createElement(M,null,r.a.createElement(oe,{mode:n},r.a.createElement(O.a,{open:!0,"aria-labelledby":"error-modal","aria-describedby":"error-message-modal"},r.a.createElement(E.a,{id:"alert-dialog-title",disableTypography:!0,className:a.errorDialogTitle},r.a.createElement(y.a,{className:a.alertIcon,style:{color:S.a[500]}}),r.a.createElement(x.a,{component:"h2"},"Error")),r.a.createElement(k.a,null,t,c&&r.a.createElement(F,{retry:o})))))}const c=window.env&&window.env.apiPrefix?window.env.apiPrefix:"/";return r.a.createElement(d.BrowserRouter,{basename:window.blocklet?window.blocklet.prefix:c},r.a.createElement(M,null,r.a.createElement(b.g,null,r.a.createElement(b.d,{exact:!0,path:"/dashboard",component:V}),r.a.createElement(b.d,{exact:!0,path:"/explorer/blocks",component:Z}),r.a.createElement(b.d,{exact:!0,path:"/explorer/txs",component:Q}),r.a.createElement(b.d,{exact:!0,path:"/explorer/blocks/:height",component:G}),r.a.createElement(b.d,{exact:!0,path:"/explorer/txs/:hash",component:X}),r.a.createElement(b.d,{exact:!0,path:"/explorer/swap/:address",component:ne}),r.a.createElement(b.d,{exact:!0,path:"/explorer/delegate/:address",component:ae}),r.a.createElement(b.d,{exact:!0,path:"/explorer/accounts/:address",component:ee}),r.a.createElement(b.d,{exact:!0,path:"/explorer/assets/:address",component:te}),r.a.createElement(b.d,{exact:!0,path:"/peers",component:W}),r.a.createElement(b.d,{exact:!0,path:"/developer/query",component:$}),Object(_.o)(Object(_.k)())&&r.a.createElement(b.d,{exact:!0,path:"/developer/simulator",component:Y}),r.a.createElement(b.c,{from:"/",to:"/dashboard".concat(window.location.search)}))))}),ie=n(72);n(361).a.setValidators();const se=s()()?"chain_node_desktop":"chain_node_web",le=u()(ce,{appVersion:"1.7.3",gaAccount:ie.e[se],sentryDSN:ie.f[se]}),ue=window.env&&window.env.apiPrefix?window.env.apiPrefix:"/";c.a.render(r.a.createElement(d.BrowserRouter,{basename:window.blocklet?window.blocklet.prefix:ue},r.a.createElement(le,null)),document.getElementById("root"))},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s}));const a="aba_lang",r={chain_node_web:"UA-121627413-4",chain_node_desktop:"UA-121627413-5",abt_explorer:"UA-121627413-3"},o={chain_node_web:"https://25af96fdf12640a3938a0ebc4aea0a83@sentry.io/1438897",chain_node_desktop:"https://77954eadc2524944913eaa88532e2034@sentry.io/1438923",abt_explorer:"https://a47f3106b4b740bfb7e9ae0699c94ce9@sentry.io/1438924"};const c="MMM Do, YYYY HH:mm a",i=["transactions.tx.signatures.data"],s=[{name:"zinc",endpoint:"https://zinc.network.arcblockio.cn/api"}]},82:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u}));var a=n(51),r=n(72);const o=window.ARCBLOCK_NETWORKS&&window.ARCBLOCK_NETWORKS.length>0?window.ARCBLOCK_NETWORKS:r.c,c=()=>{const e=a.a.getItem("networks");return e?JSON.parse(e):[]},i=()=>{return(e=[].concat([...o,...c()])).forEach(e=>Object.freeze(e)),Object.freeze(e);var e},s=e=>{if(!e.endpoint)throw new Error("Invalid endpoint");if(i().find(({endpoint:t})=>t===e.endpoint))throw new Error("Endpoint already exists");const t=c(),n=JSON.parse(JSON.stringify(e));return n.abbr=e.name.substring(0,2),n.description=e.endpoint,a.a.setItem("networks",JSON.stringify([n,...t])),n},l=e=>i().find(t=>t.name===e),u=e=>{const t=c();if(!t.find(t=>t.name===e))throw new Error("".concat(e," does not exists"));const n=JSON.stringify(t.filter(t=>t.name!==e));a.a.setItem("networks",n)}},95:function(e,t,n){"use strict";var a=n(119),r=n.n(a),o=n(40);const c={};t.a=()=>{const e=Object(o.k)();return c[e]||(c[e]=new r.a(e)),c[e]}}},[[404,9,10]]]);
//# sourceMappingURL=main.47d4cc62.chunk.js.map