(this["webpackJsonp@arcblock/forge-web"]=this["webpackJsonp@arcblock/forge-web"]||[]).push([[26],{1330:function(e,t,n){"use strict";n.r(t),n.d(t,"BlockDetail",(function(){return N}));var a=n(65),r=n(31),i=n.n(r),o=n(53),c=n(0),s=n.n(c),l=n(42),g=n(6),p=n.n(g),u=n(94),m=n(759),d=n(106),x=n(766),f=n(800),h=n.n(f),b=n(776),v=n.n(b),y=n(125),w=n.n(y),j=n(387),k=n.n(j),E=n(780),S=n(781),C=n(837),z=n(787),P=n(803),O=n(783),W=n(95),A=n(40);function B(){const e=Object(a.a)(["\n  .empty-tip {\n    color: ",";\n    font-size: 30px;\n  }\n"]);return B=function(){return e},e}class N extends E.a{constructor(e){super(e);const t=Object(A.r)(window.location.search);this.state={loading:!1,error:null,block:null,currentPage:Number(t.page)||1,pageSize:10},this.onChangePage=this.onChangePage.bind(this)}componentDidMount(){this.loadBlock()}render(){const e=this.props.match.params.height,t=this.state,n=t.loading,a=t.error,r=t.block,i=this.getTxs();return s.a.createElement(S.a,{title:"Block",cookies:this.cookies},s.a.createElement(T,null,s.a.createElement(O.a,null,s.a.createElement(x.a,{color:"inherit",href:Object(A.j)("/blocks")},"Blocks"),s.a.createElement(d.a,{color:"textPrimary"},"Detail")),n&&s.a.createElement(m.a,null),!!a&&s.a.createElement(k.a,{type:"error",variant:"icon"},a),!a&&!n&&!r&&s.a.createElement(k.a,{type:"error"},"Block ",s.a.createElement("strong",null,"#",e)," not found!"),!n&&r&&s.a.createElement(s.a.Fragment,null,s.a.createElement(z.a,{type:s.a.createElement(s.a.Fragment,null,s.a.createElement(w.a,{name:"boxes",size:14}),r.height),title:Object(A.b)(r.time),badge:r.numTxs,badgeTip:"Num Txs",meta:[{key:"app_hash",value:s.a.createElement(h.a,null,r.appHash)},{key:"proposer",value:s.a.createElement(v.a,null,r.proposer)}]}),this.renderPagination(),s.a.createElement("div",{className:"txs"},i.map(e=>s.a.createElement(P.a,{key:e.hash,tx:e,time:r.time})),0===i.length&&s.a.createElement(d.a,{component:"p",className:"empty-tip"},"Oops, this is an empty block.")),this.renderPagination())))}getTxs(){const e=this.state,t=e.block,n=e.pageSize,a=e.currentPage;return t&&Array.isArray(t.txs)?t.txs.slice((a-1)*n,a*n):[]}renderPagination(){const e=this.state,t=e.block,n=e.pageSize,a=e.currentPage;return t&&Array.isArray(t.txs)&&t.txs.length>n?s.a.createElement(C.a,{onChange:this.onChangePage,pageSize:n,current:a,total:t.txs.length,className:"pagination"}):null}onChangePage(e){this.state.currentPage!==e&&this.setState({currentPage:e})}loadBlock(){var e=this;return Object(o.a)(i.a.mark((function t(){var n,a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.props.match.params.height,e.setState({loading:!0}),t.next=5,Object(W.a)().getBlock({height:n});case 5:a=t.sent,r=a.block,e.setState({loading:!1,block:r}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),e.setState({loading:!1,error:Array.isArray(t.t0.errors)?t.t0.errors.map(e=>e.message).join(","):t.t0.message||t.t0.toString()});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}N.propTypes={match:p.a.object.isRequired,location:p.a.object.isRequired,history:p.a.object.isRequired};const T=l.default.div(B(),e=>e.theme.colors.minor);t.default=Object(u.o)(N)},801:function(e,t,n){"use strict";e.exports=function(e,t){if("string"!==typeof e)throw new TypeError("Expected a string");return t="undefined"===typeof t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},808:function(e,t,n){"use strict";var a=n(801);e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e=(e=(e=a(e)).toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim()).charAt(0).toUpperCase()+e.slice(1)}},813:function(e,t,n){"use strict";var a=n(3),r=n(1),i=n(0),o=(n(6),n(7)),c=n(8),s=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var p=i.forwardRef((function(e,t){var n=e.alignContent,c=void 0===n?"stretch":n,s=e.alignItems,l=void 0===s?"stretch":s,g=e.classes,p=e.className,u=e.component,m=void 0===u?"div":u,d=e.container,x=void 0!==d&&d,f=e.direction,h=void 0===f?"row":f,b=e.item,v=void 0!==b&&b,y=e.justify,w=void 0===y?"flex-start":y,j=e.lg,k=void 0!==j&&j,E=e.md,S=void 0!==E&&E,C=e.sm,z=void 0!==C&&C,P=e.spacing,O=void 0===P?0:P,W=e.wrap,A=void 0===W?"wrap":W,B=e.xl,N=void 0!==B&&B,T=e.xs,I=void 0!==T&&T,M=e.zeroMinWidth,D=void 0!==M&&M,R=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),q=Object(o.a)(g.root,p,x&&[g.container,0!==O&&g["spacing-xs-".concat(String(O))]],v&&g.item,D&&g.zeroMinWidth,"row"!==h&&g["direction-xs-".concat(String(h))],"wrap"!==A&&g["wrap-xs-".concat(String(A))],"stretch"!==l&&g["align-items-xs-".concat(String(l))],"stretch"!==c&&g["align-content-xs-".concat(String(c))],"flex-start"!==w&&g["justify-xs-".concat(String(w))],!1!==I&&g["grid-xs-".concat(String(I))],!1!==z&&g["grid-sm-".concat(String(z))],!1!==S&&g["grid-md-".concat(String(S))],!1!==k&&g["grid-lg-".concat(String(k))],!1!==N&&g["grid-xl-".concat(String(N))]);return i.createElement(m,Object(r.a)({className:q,ref:t},R))})),u=Object(c.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(g(r,2)),width:"calc(100% + ".concat(g(r),")"),"& > $item":{padding:g(r,2)}})})),n}(e,"xs"),{},e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(p);t.a=u},837:function(e,t,n){"use strict";var a=n(65),r=n(252),i=n(0),o=n.n(i),c=n(6),s=n.n(c),l=n(42),g=n(908),p=n.n(g),u=n(909),m=n.n(u),d=n(948);n(907);function x(){const e=Object(a.a)(["\n  .rc-pagination {\n    .rc-pagination-prev,\n    .rc-pagination-next {\n      border: none;\n      background: transparent;\n    }\n\n    .rc-pagination-item {\n      border: none;\n      background: transparent;\n      font-size: 16px;\n      font-weight: 600;\n      color: ",";\n      outline: none;\n    }\n\n    .rc-pagination-item-active {\n      a {\n        color: ",";\n      }\n    }\n  }\n"]);return x=function(){return e},e}const f=o.a.memo(e=>{let t=e.pageSize,n=e.currentPage,a=e.onChange,i=e.total,c=Object(r.a)(e,["pageSize","currentPage","onChange","total"]);return o.a.createElement(h,null,o.a.createElement(d.a,Object.assign({className:"pagination",onChange:a,pageSize:t,current:n,nextIcon:o.a.createElement(p.a,null),prevIcon:o.a.createElement(m.a,null),total:i},c)))});f.propTypes={total:s.a.number.isRequired,onChange:s.a.func.isRequired,currentPage:s.a.number,pageSize:s.a.number},f.defaultProps={currentPage:1,pageSize:10};const h=l.default.div(x(),e=>e.theme.palette.primary.main,e=>e.theme.palette.primary.main);t.a=f}}]);
//# sourceMappingURL=26.a2e8b876.chunk.js.map