(this["webpackJsonp@arcblock/forge-web"]=this["webpackJsonp@arcblock/forge-web"]||[]).push([[29],{1328:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n(65),a=n(31),i=n.n(a),c=n(53),o=n(0),s=n.n(o),l=n(42),u=n(813),m=n(759),d=n(46),g=n.n(d),f=n(780),p=n(781),x=n(95);function v(){const e=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n\n  .greeting {\n    font-size: 30px;\n    font-weight: 900;\n    color: ",";\n  }\n\n  .peers-view {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n  }\n"]);return v=function(){return e},e}const h=g()(()=>n.e(22).then(n.bind(null,1275))),b=g()(()=>Promise.all([n.e(3),n.e(19)]).then(n.bind(null,1276)));class j extends f.a{constructor(e){super(e),this.state={markers:null,activeMarkerId:null,peers:[]},this.timer=null,this.setActiveMarker=this.setActiveMarker.bind(this)}componentDidMount(){var e=this;return Object(c.a)(i.a.mark((function t(){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(x.a)().getNetInfo();case 3:n=t.sent,r=n.netInfo.peers,a=void 0===r?[]:r,e.setState({peers:a,markers:a.map(e=>({id:e.id,latitude:e.geoInfo.latitude,longitude:e.geoInfo.longitude,title:e.moniker,country:e.geoInfo.country,description:"Location: ".concat(e.geoInfo.city,",").concat(e.geoInfo.country)}))}),e.timer=setTimeout(e.setActiveMarker,5e3),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.setState({error:"Error loading data"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}componentWillUnmount(){this.timer&&clearInterval(this.timer)}setActiveMarker(){var e=this;return Object(c.a)(i.a.mark((function t(){var n,r,a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(x.a)().getChainInfo();case 3:return n=t.sent,r=n.info,t.next=7,Object(x.a)().getBlock({height:r.blockHeight},{ignoreFields:["block.txs"]});case 7:a=t.sent,c=a.block,e.setState({activeMarkerId:c.proposer}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:e.timer=setTimeout(e.setActiveMarker,5e3);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()}render(){const e=this.state,t=e.markers,n=e.activeMarkerId,r=e.peers;return t?s.a.createElement(p.a,{title:"Network",cookies:this.cookies},s.a.createElement(k,null,s.a.createElement("div",{className:"greeting"},s.a.createElement("p",null,"Your current node is connected to ",s.a.createElement("strong",null,t.length)," peer",t.length>1?"s":"","!")),s.a.createElement(u.a,{container:!0},s.a.createElement(u.a,{item:!0,className:"peers-view"},s.a.createElement(h,{markers:t,activeMarkerId:n}))),s.a.createElement(u.a,{container:!0},s.a.createElement(u.a,{item:!0,className:"peers-view"},s.a.createElement(b,{peers:r}))))):s.a.createElement(k,null,s.a.createElement(m.a,null))}}const k=l.default.div(v(),e=>e.theme.typography.color.main)},780:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n.n(r),i=n(259),c=n.n(i);class o extends a.a.Component{constructor(e){super(e),this.getInputHandler=(e,t={})=>n=>{this.setState(Object.assign(t,{[e]:n.target.checked||n.target.value}))},this.cookies=c.a.get()}renderMessages(){const e=this.state,t=e.errorMessage,n=e.successMessage;return[t?a.a.createElement("p",{className:"error",key:"error-message"},t):"",n?a.a.createElement("p",{className:"success",key:"success-message"},n):""].filter(Boolean)}formatError(e){return console.error(e),Array.isArray(e.errors)?e.errors.map(e=>e.message).join(";"):e.message||e.toString()}}},781:function(e,t,n){"use strict";var r=n(65),a=n(12),i=n(0),c=n.n(i),o=n(792),s=n.n(o),l=n(42),u=n(1327),m=n(793),d=n.n(m),g=n(107),f=n(94),p=n(258),x=n(252),v=n(773),h=n(257),b=n.n(h),j=n(125),k=n.n(j);function w(){const e=Object(r.a)(["\n  width: 100%;\n  height: 3rem;\n  padding: 5px 10px;\n  font-size: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  border-left: 2px solid ",";\n  background-color: rgb(144, 255, 230, 0.1);\n\n  .icon {\n    font-size: 0.75rem;\n  }\n\n  .message {\n    margin-left: 10px;\n    font-weight: 500;\n  }\n\n  .close {\n    margin-left: auto;\n    cursor: pointer;\n  }\n\n  a {\n    text-decoration: underline;\n  }\n"]);return w=function(){return e},e}function y(e){const t=e.icon,n=e.children,r=e.theme,i=Object(x.a)(e,["icon","children","theme"]),o=c.a.useState(!0),s=Object(a.a)(o,2),l=s[0],u=s[1];return c.a.createElement(c.a.Fragment,null,l&&c.a.createElement(E,i,t&&c.a.createElement(k.a,{size:16,className:"icon",name:t,color:r.colors.green}),c.a.createElement("span",{className:"message"},n),c.a.createElement(b.a,{className:"close",onClick:function(){u(!1)}})))}y.defaultProps={icon:""};const E=l.default.div(w(),e=>e.theme.colors.green);var O=Object(v.a)(y),S=n(40);var I=Object(p.b)(Object(f.o)((function(e){const t=e.simulatorLoading,n=e.simulatorRunning,r=e.simulatorUptime,a=e.simulatorTxCount;return"/developer/simulator"===e.location.pathname||t||!n?null:c.a.createElement(O,{icon:"traffic-light",style:{marginBottom:"32px"}},"Your simulator is running for ",Object(S.e)(r),", transactions generated:",a,", ",c.a.createElement(g.Link,{to:"/developer/simulator"},"stop simulator"))}))),M=n(60);function C(){const e=Object(r.a)(["\n  margin-top: 32px;\n"]);return C=function(){return e},e}function W({title:e,children:t,fullWidth:n}){const r=Object(M.d)(),i=Object(a.a)(r,1)[0],o=Object(M.g)(),l=Object(a.a)(o,1)[0],u=i.moniker?"| ".concat(i.moniker.toUpperCase()):"",m=!Object(S.n)()&&!Object(S.q)();return n?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{title:"".concat(e," ").concat(u).trim()}),t):c.a.createElement(N,{maxWidth:"lg"},c.a.createElement(s.a,{title:"".concat(e," ").concat(u).trim()}),c.a.createElement("div",{style:{minHeight:"76vh"}},m&&c.a.createElement(I,null),t),c.a.createElement(d.a,{dark:"dark"===l}))}W.defaultProps={title:"Block Explorer",fullWidth:!1};const N=Object(l.default)(u.a)(C());t.a=W},813:function(e,t,n){"use strict";var r=n(3),a=n(1),i=n(0),c=(n(6),n(7)),o=n(8),s=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var m=i.forwardRef((function(e,t){var n=e.alignContent,o=void 0===n?"stretch":n,s=e.alignItems,l=void 0===s?"stretch":s,u=e.classes,m=e.className,d=e.component,g=void 0===d?"div":d,f=e.container,p=void 0!==f&&f,x=e.direction,v=void 0===x?"row":x,h=e.item,b=void 0!==h&&h,j=e.justify,k=void 0===j?"flex-start":j,w=e.lg,y=void 0!==w&&w,E=e.md,O=void 0!==E&&E,S=e.sm,I=void 0!==S&&S,M=e.spacing,C=void 0===M?0:M,W=e.wrap,N=void 0===W?"wrap":W,z=e.xl,A=void 0!==z&&z,B=e.xs,D=void 0!==B&&B,F=e.zeroMinWidth,G=void 0!==F&&F,H=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),L=Object(c.a)(u.root,m,p&&[u.container,0!==C&&u["spacing-xs-".concat(String(C))]],b&&u.item,G&&u.zeroMinWidth,"row"!==v&&u["direction-xs-".concat(String(v))],"wrap"!==N&&u["wrap-xs-".concat(String(N))],"stretch"!==l&&u["align-items-xs-".concat(String(l))],"stretch"!==o&&u["align-content-xs-".concat(String(o))],"flex-start"!==k&&u["justify-xs-".concat(String(k))],!1!==D&&u["grid-xs-".concat(String(D))],!1!==I&&u["grid-sm-".concat(String(I))],!1!==O&&u["grid-md-".concat(String(O))],!1!==y&&u["grid-lg-".concat(String(y))],!1!==A&&u["grid-xl-".concat(String(A))]);return i.createElement(g,Object(a.a)({className:L,ref:t},H))})),d=Object(o.a)((function(e){return Object(a.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return s.forEach((function(r){var a=e.spacing(r);0!==a&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(u(a,2)),width:"calc(100% + ".concat(u(a),")"),"& > $item":{padding:u(a,2)}})})),n}(e,"xs"),{},e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};l.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var a="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:a,flexGrow:0,maxWidth:a}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(a.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(m);t.a=d}}]);
//# sourceMappingURL=29.ac271701.chunk.js.map