(this["webpackJsonp@arcblock/forge-web"]=this["webpackJsonp@arcblock/forge-web"]||[]).push([[25],{1332:function(e,t,a){"use strict";a.r(t);var n=a(65),r=a(31),s=a.n(r),c=a(53),o=a(0),l=a.n(o),i=a(42),u=a(6),p=a.n(u),d=a(107),m=a(94),g=a(106),f=a(759),y=a(776),h=a.n(y),b=a(125),v=a.n(b),E=a(387),j=a.n(E),x=a(780),k=a(781),w=a(787),O=a(783),A=a(947),S=a(931),N=a(95),z=a(40);function L(){const e=Object(n.a)(["\n  .subtitle {\n    margin-top: 16px;\n    margin-bottom: 16px;\n    color: ",";\n  }\n  .nft-display {\n    width: 100%;\n    max-width: 640px;\n  }\n"]);return L=function(){return e},e}function R(e){return T.apply(this,arguments)}function T(){return(T=Object(c.a)(s.a.mark((function e({address:t,paging:a}){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(N.a)().listAssetTransactions({paging:a,address:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}class F extends x.a{constructor(e){super(e),this.state={loading:!1,asset:null,error:null}}componentDidMount(){this.loadAsset()}componentDidUpdate(){this.props.match.params.address!==this.state.address&&this.setState({address:this.props.match.params.address},()=>{this.loadAsset()})}render(){const e=this.props.match.params.address,t=this.state,a=t.loading,n=t.error,r=t.asset;return console.log(r),l.a.createElement(k.a,{title:"Asset",cookies:this.cookies},l.a.createElement(C,null,l.a.createElement(O.a,null,l.a.createElement(g.a,{color:"textPrimary"},"Asset")),a&&l.a.createElement(f.a,null),!!n&&l.a.createElement(j.a,{type:"error",variant:"icon"},n),!n&&!a&&!r&&l.a.createElement(j.a,{type:"error"},"Asset ",l.a.createElement("strong",null,e)," not found!"),!a&&r&&l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{type:l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{name:"gem",size:14}),r.address),title:r.moniker,meta:[{key:"Created At",value:Object(z.b)(r.context.genesisTime)},{key:"Updated At",value:Object(z.b)(r.context.renaissanceTime)},{key:"Consumed At",value:Object(z.b)(r.context.consumeTime)},{key:"Expire After",value:Object(z.b)(r.ttl)},{key:"Created By",value:l.a.createElement(h.a,null,l.a.createElement(d.Link,{to:Object(z.j)("/accounts/".concat(r.issuer))},r.issuer))},{key:"Owned By",value:l.a.createElement(h.a,null,l.a.createElement(d.Link,{to:Object(z.j)("/accounts/".concat(r.owner))},r.owner))},{key:"Readonly?",value:r.readonly?"Yes":"No"},{key:"Transferable?",value:r.transferrable?"Yes":"No"}]}),"vc"===r.data.typeUrl&&r.data.value&&l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{component:"h3",variant:"h6",className:"subtitle"},"Asset Display"),l.a.createElement(S.a,{data:r.data.value,infoRow:!1})),l.a.createElement(g.a,{component:"h3",variant:"h6",className:"subtitle"},"Related Transactions"),l.a.createElement(A.a,{address:r.address,dataLoaderFn:R}))))}loadAsset(){var e=this;return Object(c.a)(s.a.mark((function t(){var a,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.props.match.params.address,e.setState({loading:!0}),t.next=5,Object(N.a)().getAssetState({address:a});case 5:n=t.sent,r=n.state,e.setState({loading:!1,asset:r}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),e.setState({loading:!1,error:Array.isArray(t.t0.errors)?t.t0.errors.map(e=>e.message).join(","):t.t0.message||t.t0.toString()});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}F.propTypes={match:p.a.object.isRequired,location:p.a.object.isRequired,history:p.a.object.isRequired};const C=i.default.div(L(),e=>e.theme.typography.color.main);t.default=Object(m.o)(F)},782:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(252),r=a(0),s=a.n(r),c=a(928),o=a.n(c);function l(e){let t=e.name,a=e.layout,r=e.children,c=Object(n.a)(e,["name","layout","children"]);return s.a.createElement(o.a,Object.assign({},c,{name:t,layout:a,nameWidth:120}),r)}l.defaultProps={children:null,layout:"horizontal"}},794:function(e,t,a){"use strict";var n=a(65),r=a(31),s=a.n(r),c=a(799),o=a(53),l=a(12),i=a(0),u=a.n(i),p=a(42),d=a(208),m=a.n(d),g=a(107),f=a(94),y=a(264),h=a.n(y),b=a(759),v=a(859),E=a(125),j=a.n(E),x=a(387),k=a.n(x),w=a(40);function O(){const e=Object(n.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  .pager {\n    width: 100%;\n    display: flex;\n\n    span {\n      color: ",";\n      font-size: 14px;\n    }\n    .right-icon {\n      margin-left: 16px;\n    }\n    .left-icon {\n      margin-right: 16px;\n    }\n  }\n\n  .pager--small {\n    justify-content: flex-start;\n    margin: 0;\n    span {\n      font-size: 12px;\n    }\n  }\n"]);return O=function(){return e},e}const A=(e,t)=>{const a=h.a.parse(e.search.slice(1));delete a.cursor;const n="".concat(e.pathname,"?").concat(h.a.stringify(a));return t?"".concat(n,"&cursor=").concat(t):n};function S({args:e,pageSize:t,pageLink:a,dataKey:n,emptyMessage:r,dataLoaderFn:p,dataRenderFn:d,history:f,location:y}){let h=Object(i.useState)([]),E=Object(l.a)(h,1)[0];const x=function(){var e=Object(o.a)(s.a.mark((function e(t,a,n=null){var r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.a)({},t,{paging:{size:a||10}}),n&&(r.paging.cursor=n),e.next=4,p(r);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=Object(w.s)(y.search).cursor;if(O){const e=E.findIndex(e=>e===O);e>-1?E=E.slice(0,e+1):E.push(O)}else E=[];const S=m()(Object(o.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",x(e,t,O));case 1:case"end":return a.stop()}}),a)}))),[e,t,O]);if(S.error&&console.error(S.error),S.loading)return u.a.createElement(N,null,u.a.createElement(b.a,null));if(S.error)return u.a.createElement(N,null,u.a.createElement(k.a,{type:"error",variant:"icon"},S.error.message));return u.a.createElement(N,null,Array.isArray(S.value[n])&&S.value[n].length>0&&d(S.value[n]),0===S.value[n].length&&u.a.createElement(k.a,{type:"tip",variant:"icon"},r),!a&&!1!==a&&u.a.createElement("p",{className:"pager",style:{justifyContent:E.length>0?"space-between":"flex-end"}},E.length>0&&u.a.createElement(v.a,{onClick:()=>{if(E.length<1)return;E.pop();const e=E[E.length-1];f.push(A(f.location,e))}},u.a.createElement(j.a,{className:"left-icon",name:"arrow-left"}),"Previous Page"),S.value.page&&S.value.page.cursor&&S.value.page.next&&u.a.createElement(v.a,{onClick:()=>{f.push(A(f.location,S.value.page.cursor))}},"Next Page ",u.a.createElement(j.a,{className:"right-icon",name:"arrow-right"}))),!!a&&u.a.createElement("p",{className:"pager pager--small"},u.a.createElement(v.a,{component:g.Link,to:Object(w.j)(a)},"View All ",u.a.createElement(j.a,{name:"arrow-right",size:16}))))}S.defaultProps={pageSize:10,pageLink:"",emptyMessage:"No data found"};const N=p.default.div(O(),e=>e.theme.typography.color.gray);t.a=Object(f.o)(S)},931:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return p}));var n=a(0),r=a.n(n),s=a(254),c=a.n(s),o=a(932),l=a.n(o),i=a(255),u=a(782);function p({data:t,infoRow:a,layout:n}){let s=null,o=!1,p=null,d=null;try{s=JSON.parse(t),("VerifiableCredential"===(m=s.type)||Array.isArray(m)&&m.includes("VerifiableCredential"))&&c()(s,"credentialSubject.display")&&(o=!0,p=(e=>"string"===typeof e?[e]:e)(s.type),d=(t=>{try{if("svg_gzipped"===t.type&&t.content){const a=l.a.ungzip(Object(i.fromBase64)(t.content),{});return e.from(a).toString("utf8")}return"unsupported display protocol: ".concat(t.type)}catch(a){return null}})(c()(s,"credentialSubject.display")))}catch(g){}var m;return o&&p&&d?a?r.a.createElement(u.a,{name:"Display",layout:n,className:"nft-display",style:{marginTop:8}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:d}})):r.a.createElement("div",{className:"nft-display",dangerouslySetInnerHTML:{__html:d}}):null}p.defaultProps={layout:"vertical",infoRow:!0}}).call(this,a(108).Buffer)},947:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(803),c=a(794);function o({address:e,pageSize:t,dataLoaderFn:a,emptyMessage:n}){const o={args:{address:e},pageSize:t,dataKey:"transactions",dataLoaderFn:a,dataRenderFn:e=>e.map(e=>r.a.createElement(s.a,{key:e.hash,tx:e})),emptyMessage:n};return r.a.createElement(c.a,o)}o.defaultProps={pageSize:10,emptyMessage:"No transaction found"},t.a=o}}]);
//# sourceMappingURL=25.21850345.chunk.js.map